//=============================================================================
//
// リザルト画面処理 [result.cpp]
// Author : SHUGO KURODA
//
//=============================================================================
#include "manager.h"
#include "result.h"
#include "rank.h"
#include "number.h"
#include "continue.h"

#include "sound.h"

//*****************************************************************************
// 静的メンバ変数宣言
//*****************************************************************************

//=============================================================================
// CGameのコンストラクタ
//=============================================================================
CResult::CResult()
{
}

//=============================================================================
// CManagerのデストラクタ
//=============================================================================
CResult::~CResult()
{
}

//=============================================================================
// 初期化処理
//=============================================================================
HRESULT CResult::Init()
{
	// テクスチャのロード
	LoadAll();
	// ランキングの生成
	CRank::Create();
	// リザルトBGM
	CSound::Play(CSound::SOUND_LABEL_RESULT);

	return S_OK;
}

//=============================================================================
// 終了処理
//=============================================================================
void CResult::Uninit()
{
	// テクスチャのロード
	UnloadAll();

	// コンティニュー演出状態の解除
	CContinue::SetContinue(false);

	// BGMストップ
	CSound::Stop();

	// ボタンを押したコントローラーをENTRY状態にする
	CManager::SetEntry(0, false);
	// ボタンを押したコントローラーをENTRY状態にする
	CManager::SetEntry(1, false);
}

//=============================================================================
// 更新処理
//=============================================================================
void CResult::Update()
{

}

//=============================================================================
// テクスチャのロード
//=============================================================================
void CResult::LoadAll()
{
	// ランキング
	CRank::Load();
	// 数字
	CNumber::Load();
}

//=============================================================================
// テクスチャの破棄
//=============================================================================
void CResult::UnloadAll()
{
	// ランキング
	CRank::Unload();
	// 数字
	CNumber::Unload();
}
